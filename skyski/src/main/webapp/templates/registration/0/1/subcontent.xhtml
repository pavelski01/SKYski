<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:c="http://java.sun.com/jsp/jstl/core" xmlns:f="http://java.sun.com/jsf/core" xmlns:fn="http://java.sun.com/jsp/jstl/functions" xmlns:h="http://java.sun.com/jsf/html" xmlns:ui="http://java.sun.com/jsf/facelets">
	<div id="subcontent">
		<div class="container">
			<h:form id="net">
				<f:event listener="#{questionnaire.clearAllInputs}" type="preRenderView" />
				<f:event listener="#{questionnaire.clearCaptcha}" type="postValidate" />
				<h:panelGrid columns="3" id="registration" styleClass="auto-margin absolute-position auto-margin bottom-padding-30 family-3 grey-outset-border-5 left-0 left-padding-60 radius-35-35-200-200 right-0 right-padding-60 size-25 top-120 top-padding-30 width-1200">
					<f:facet name="caption">
						<h:outputText id="registration-caption" styleClass="bolder-weight center-align red-color white-shadow xx-large-size" value="#{fn:toUpperCase(msgs.registration)}" />
					</f:facet>
					<f:facet name="footer">
						<h:commandLink action="#{questionnaire.process}" styleClass="black-shadow block-display bolder-weight bottom-margin-20 bottom-padding-20 center-align family-5 grey-color-focus grey-inset-border-5-focus grey-outset-border-5 inherit-color linear-gradient-bottom-black0-red50-black100 linear-gradient-bottom-red0-black50-red100-focus none-decoration radius-40 top-margin-20 top-padding-20" title="#{msgs.submit}" value="#{fn:toUpperCase(msgs.submit)}" />
						<h:panelGroup layout="block" styleClass="block-display center-align left-margin-auto right-margin-auto width-700">					
							<h:outputText escape="true" styleClass="bolder-weight red-color" value="*&#32;" />
							<h:outputText value="#{msgs.fieldsAreRequired}" />
						</h:panelGroup>
					</f:facet>
					<h:panelGroup layout="block" styleClass="bolder-weight underline-decoration width-400">
						<h:outputText value="#{fn:toUpperCase(msgs.compulsoryData)}:" />
					</h:panelGroup>
					<h:panelGroup layout="block">
						<h:outputText escape="true" value="&#32;" />
					</h:panelGroup>
					<h:panelGroup layout="block">
						<h:outputText escape="true" value="&#32;" />
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="width-400">
						<h:outputText value="#{msgs.login}:" />
						<h:outputText styleClass="bolder-weight red-color" value="*" />
					</h:panelGroup>
					<h:panelGroup layout="block">
						<h:inputText id="login" required="true" size="20" styleClass="height-40 left-padding-10" validator="#{questionnaire.validateLogin}" value="#{questionnaire.login}">
							<f:ajax event="blur" render="login-msg" />
							<f:ajax event="click" render="login-msg" />
							<f:ajax event="keyup" render="login-msg" />
						</h:inputText>						
					</h:panelGroup>
					<h:panelGroup id="login-msg" layout="block" styleClass="bold-weight red-color size-20 width-400">
						<h:message for="login" />
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="width-400">
						<h:outputText value="#{msgs.password}:" />
						<h:outputText styleClass="bolder-weight red-color" value="*" />
					</h:panelGroup>
					<h:panelGroup layout="block">
						<h:inputSecret id="password" required="true" size="20" styleClass="height-40 left-padding-10" validatorMessage="#{msgs.passwordValidation}" value="#{questionnaire.password}">
							<f:ajax event="blur" render="password-msg" />
							<f:ajax event="click" render="password-msg" />
							<f:ajax event="keyup" render="password-msg" />
							<f:validateLength minimum="3" />
						</h:inputSecret>
					</h:panelGroup>
					<h:panelGroup id="password-msg" layout="block" styleClass="bold-weight red-color size-20 width-400">		
						<h:message for="password" />
					</h:panelGroup>					
					<h:panelGroup layout="block" styleClass="width-400">
						<h:outputText value="#{msgs.passwordRepeat}:" />
						<h:outputText styleClass="bolder-weight red-color" value="*" />
					</h:panelGroup>
					<h:panelGroup layout="block">
						<h:inputSecret id="passwordRepeat" required="true" size="20" styleClass="height-40 left-padding-10" validator="#{questionnaire.validatePassword}" value="#{questionnaire.password}">
							<f:ajax event="blur" render="passwordRepeat-msg" />
							<f:ajax event="click" render="passwordRepeat-msg" />
							<f:ajax event="keyup" render="passwordRepeat-msg" />
						</h:inputSecret>
					</h:panelGroup>
					<h:panelGroup id="passwordRepeat-msg" layout="block" styleClass="bold-weight red-color size-20 width-400">		
						<h:message for="passwordRepeat" />
					</h:panelGroup>					
					<h:panelGroup layout="block" styleClass="width-400">
						<h:outputText value="#{msgs.email}:" />
						<h:outputText styleClass="bolder-weight red-color" value="*" />
					</h:panelGroup>
					<h:panelGroup layout="block">
						<h:inputText id="email" required="true" size="20" styleClass="height-40 left-padding-10" validator="#{questionnaire.validateEmail}" value="#{questionnaire.email}">
							<f:ajax event="blur" render="email-msg" />
							<f:ajax event="click" render="email-msg" />
							<f:ajax event="keyup" render="email-msg" />
						</h:inputText>
					</h:panelGroup>
					<h:panelGroup id="email-msg" layout="block" styleClass="bold-weight red-color size-20 width-400">
						<h:message for="email" />
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="bolder-weight top-margin-10 underline-decoration width-400">
						<h:outputText value="#{fn:toUpperCase(msgs.additionalData)}:" />
					</h:panelGroup>
					<h:panelGroup layout="block">
						<h:outputText escape="true" value="&#32;" />
					</h:panelGroup>
					<h:panelGroup layout="block">
						<h:outputText escape="true" value="&#32;" />
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="width-400">
						<h:outputText value="#{msgs.fname}:" />
					</h:panelGroup>
					<h:panelGroup layout="block">
						<h:inputText id="fname" size="20" value="#{questionnaire.forename}">
							<f:ajax event="blur" />
							<f:ajax event="click" />
							<f:ajax event="keyup" />
						</h:inputText>
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="width-400">
						<h:message for="fname" />
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="width-400">
						<h:outputText value="#{msgs.lname}:" />
					</h:panelGroup>
					<h:panelGroup layout="block">
						<h:inputText id="lname" size="20" value="#{questionnaire.surname}" />
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="width-400">
						<h:message for="lname" />
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="width-400">
						<h:outputText value="#{msgs.phone}:" />
					</h:panelGroup>
					<h:panelGroup layout="block">
						<h:inputText id="phone" size="20" value="#{questionnaire.phone}" />
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="width-400">
						<h:message for="phone" />
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="width-400">
						<h:outputText value="#{msgs.streetAddress}:" />
					</h:panelGroup>
					<h:panelGroup layout="block">
						<h:inputText id="streetAddress" size="20" value="#{questionnaire.street}" />
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="width-400">
						<h:message for="streetAddress" />
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="width-400">
						<h:outputText value="#{msgs.postalCode} / #{msgs.cityAddress}:" />
					</h:panelGroup>
					<h:panelGroup id="postalCodeCityAddress" layout="block">							
						<h:inputText id="postalCode" size="3" value="#{questionnaire.postalCode}" />			
						<h:inputText id="cityAddress" size="10" value="#{questionnaire.cityAddress}" />
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="width-400">
						<h:message for="postalCodeCityAddress" />
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="width-400">
						<h:outputText value="#{msgs.dateOfBirth} (dd-MM-YYYY):" />
					</h:panelGroup>
					<h:panelGroup id="dateOfBirth" layout="block">
						<h:inputText id="dayOfBirth" maxlength="2" size="1" value="#{questionnaire.dayOfBirth}">
							<f:ajax event="blur" execute="datecheck" render="datecheck-msg" />
							<f:ajax event="click" execute="datecheck" render="datecheck-msg" />
							<f:ajax event="keyup" execute="datecheck" render="datecheck-msg" />
						</h:inputText>
						<h:inputText id="monthOfBirth" maxlength="2" size="1" value="#{questionnaire.monthOfBirth}">
							<f:ajax event="blur" execute="datecheck" render="datecheck-msg" />
							<f:ajax event="click" execute="datecheck" render="datecheck-msg" />
							<f:ajax event="keyup" execute="datecheck" render="datecheck-msg" />
						</h:inputText>
						<h:inputText id="yearOfBirth" maxlength="4" size="4" value="#{questionnaire.yearOfBirth}">
							<f:ajax event="blur" execute="datecheck" render="datecheck-msg" />
							<f:ajax event="click" execute="datecheck" render="datecheck-msg" />
							<f:ajax event="keyup" execute="datecheck" render="datecheck-msg" />
						</h:inputText>
						<h:inputHidden id="datecheck" validator="#{questionnaire.validateDate}" value="datecheck" />
					</h:panelGroup>
					<h:panelGroup id="datecheck-msg" layout="block" styleClass="bold-weight red-color size-15 width-400">
						<h:message for="datecheck" />
					</h:panelGroup>			
					<h:panelGroup layout="block">
						<h:outputText value="#{msgs.rewrite}:" />
						<h:outputText styleClass="bolder-weight red-color" value="*&#160;&#160;&#160;&#160;" />				
						<ui:param name="captchaPath" value="#{facesContext.externalContext.requestContextPath}/../captcha.jpg" />
						<h:graphicImage alt="captcha" cacheable="false" id="capimg" value="#{captchaPath}" />
					</h:panelGroup>						
					<h:panelGroup layout="block">
						<h:inputText id="captcha" required="true" size="20" validator="#{questionnaire.validateCaptcha}" validatorMessage="#{msgs.incorrectly}" value="#{questionnaire.captcha}">
							<f:ajax event="blur" render="captcha-msg" />
							<f:ajax event="click" render="captcha-msg" />
							<f:ajax event="keyup" render="captcha-msg" />
						</h:inputText>
					</h:panelGroup>					
					<h:panelGroup id="captcha-msg" layout="block" styleClass="bold-weight red-color size-20 width-400">
						<h:message for="captcha" />
					</h:panelGroup>				
				</h:panelGrid>				
			</h:form>
		</div>
	</div>
	<c:set property="login" target="#{flash}" value="#{questionnaire.login}" />
	<c:set property="fname" target="#{flash}" value="#{questionnaire.forename}" />
</ui:composition>